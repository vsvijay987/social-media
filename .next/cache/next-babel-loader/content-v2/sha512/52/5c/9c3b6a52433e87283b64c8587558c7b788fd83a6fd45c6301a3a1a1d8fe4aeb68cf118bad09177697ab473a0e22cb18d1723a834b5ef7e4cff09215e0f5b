{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport axios from \"axios\";\nimport baseUrl from \"./baseUrl\";\nimport catchErrors from \"./catchErrors\";\nimport cookie from \"js-cookie\";\nimport Router from \"next/router\";\nconst Axios = axios.create({\n  baseURL: `${baseUrl}/api/profile`,\n  headers: {\n    Authorization: cookie.get(\"token\")\n  }\n});\nexport const followUser = async (userToFollowId, setUserFollowStats) => {\n  try {\n    await Axios.post(`/follow/${userToFollowId}`);\n    setUserFollowStats(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      following: [...prev.following, {\n        user: userToFollowId\n      }]\n    }));\n  } catch (error) {\n    alert(catchErrors(error));\n  }\n};\nexport const unfollowUser = async (userToUnfollowId, setUserFollowStats) => {\n  try {\n    await Axios.put(`/unfollow/${userToUnfollowId}`);\n    setUserFollowStats(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      following: prev.following.filter(following => following.user !== userToUnfollowId)\n    }));\n  } catch (error) {\n    alert(catchErrors(error));\n  }\n};\nexport const profileUpdate = async (profile, setLoading, setError, profilePicUrl) => {\n  try {\n    const {\n      bio,\n      facebook,\n      youtube,\n      twitter,\n      instagram\n    } = profile;\n    await Axios.post(`/update`, {\n      bio,\n      facebook,\n      youtube,\n      twitter,\n      instagram,\n      profilePicUrl\n    });\n    setLoading(false);\n    Router.reload();\n  } catch (error) {\n    setError(catchErrors(error));\n    setLoading(false);\n  }\n};\nexport const passwordUpdate = async (setSuccess, userPasswords) => {\n  const {\n    currentPassword,\n    newPassword\n  } = userPasswords;\n\n  try {\n    await Axios.post(`/settings/password`, {\n      currentPassword,\n      newPassword\n    });\n    setSuccess(true);\n  } catch (error) {\n    alert(catchErrors(error));\n  }\n};\nexport const toggleMessagePopup = async (popupSetting, setPopupSetting, setSuccess) => {\n  try {\n    await Axios.post(`/settings/messagePopup`);\n    setPopupSetting(!popupSetting);\n    setSuccess(true);\n  } catch (error) {\n    alert(catchErrors(error));\n  }\n};","map":{"version":3,"sources":["C:/Users/vsvij/Desktop/MERN Projects/social-media/utils/profileActions.js"],"names":["axios","baseUrl","catchErrors","cookie","Router","Axios","create","baseURL","headers","Authorization","get","followUser","userToFollowId","setUserFollowStats","post","prev","following","user","error","alert","unfollowUser","userToUnfollowId","put","filter","profileUpdate","profile","setLoading","setError","profilePicUrl","bio","facebook","youtube","twitter","instagram","reload","passwordUpdate","setSuccess","userPasswords","currentPassword","newPassword","toggleMessagePopup","popupSetting","setPopupSetting"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport baseUrl from \"./baseUrl\";\r\nimport catchErrors from \"./catchErrors\";\r\nimport cookie from \"js-cookie\";\r\nimport Router from \"next/router\";\r\n\r\nconst Axios = axios.create({\r\n  baseURL: `${baseUrl}/api/profile`,\r\n  headers: { Authorization: cookie.get(\"token\") }\r\n});\r\n\r\nexport const followUser = async (userToFollowId, setUserFollowStats) => {\r\n  try {\r\n    await Axios.post(`/follow/${userToFollowId}`);\r\n\r\n    setUserFollowStats(prev => ({\r\n      ...prev,\r\n      following: [...prev.following, { user: userToFollowId }]\r\n    }));\r\n  } catch (error) {\r\n    alert(catchErrors(error));\r\n  }\r\n};\r\n\r\nexport const unfollowUser = async (userToUnfollowId, setUserFollowStats) => {\r\n  try {\r\n    await Axios.put(`/unfollow/${userToUnfollowId}`);\r\n\r\n    setUserFollowStats(prev => ({\r\n      ...prev,\r\n      following: prev.following.filter(following => following.user !== userToUnfollowId)\r\n    }));\r\n  } catch (error) {\r\n    alert(catchErrors(error));\r\n  }\r\n};\r\n\r\nexport const profileUpdate = async (profile, setLoading, setError, profilePicUrl) => {\r\n  try {\r\n    const { bio, facebook, youtube, twitter, instagram } = profile;\r\n\r\n    await Axios.post(`/update`, {\r\n      bio,\r\n      facebook,\r\n      youtube,\r\n      twitter,\r\n      instagram,\r\n      profilePicUrl\r\n    });\r\n\r\n    setLoading(false);\r\n    Router.reload();\r\n  } catch (error) {\r\n    setError(catchErrors(error));\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\nexport const passwordUpdate = async (setSuccess, userPasswords) => {\r\n  const { currentPassword, newPassword } = userPasswords;\r\n  try {\r\n    await Axios.post(`/settings/password`, { currentPassword, newPassword });\r\n\r\n    setSuccess(true);\r\n  } catch (error) {\r\n    alert(catchErrors(error));\r\n  }\r\n};\r\n\r\nexport const toggleMessagePopup = async (popupSetting, setPopupSetting, setSuccess) => {\r\n  try {\r\n    await Axios.post(`/settings/messagePopup`);\r\n\r\n    setPopupSetting(!popupSetting);\r\n    setSuccess(true);\r\n  } catch (error) {\r\n    alert(catchErrors(error));\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}