{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\vsvij\\\\Desktop\\\\MERN Projects\\\\social-media\\\\components\\\\Profile\\\\UpdateProfile.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useRef } from \"react\";\nimport { Form, Button, Message, Divider } from \"semantic-ui-react\";\nimport ImageDropDiv from \"../Common/ImageDropDiv\";\nimport CommonInputs from \"../Common/CommonInputs\";\nimport uploadPic from \"../../utils/uploadPicToCloudinary\";\nimport { profileUpdate } from \"../../utils/profileActions\";\n\nfunction UpdateProfile({\n  Profile\n}) {\n  const {\n    0: profile,\n    1: setProfile\n  } = useState({\n    profilePicUrl: Profile.user.profilePicUrl,\n    bio: Profile.bio || \"\",\n    facebook: Profile.social && Profile.social.facebook || \"\",\n    youtube: Profile.social && Profile.social.youtube || \"\",\n    instagram: Profile.social && Profile.social.instagram || \"\",\n    twitter: Profile.social && Profile.social.twitter || \"\"\n  });\n  const {\n    0: errorMsg,\n    1: setErrorMsg\n  } = useState(null);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: showSocialLinks,\n    1: setShowSocialLinks\n  } = useState(false);\n  const {\n    0: highlighted,\n    1: setHighlighted\n  } = useState(false);\n  const inputRef = useRef();\n  const {\n    0: media,\n    1: setMedia\n  } = useState(null);\n  const {\n    0: mediaPreview,\n    1: setMediaPreview\n  } = useState(null);\n\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n\n    if (name === \"media\") {\n      setMedia(files[0]);\n      setMediaPreview(URL.createObjectURL(files[0]));\n    }\n\n    setProfile(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      [name]: value\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      error: errorMsg !== null,\n      loading: loading,\n      onSubmit: async e => {\n        e.preventDefault();\n        setLoading(true);\n        let profilePicUrl;\n\n        if (media !== null) {\n          profilePicUrl = await uploadPic(media);\n        }\n\n        if (media !== null && !profilePicUrl) {\n          setLoading(false);\n          return setErrorMsg(\"Error Uploading Image\");\n        }\n\n        await profileUpdate(profile, setLoading, setErrorMsg, profilePicUrl);\n      },\n      children: [/*#__PURE__*/_jsxDEV(Message, {\n        onDismiss: () => setErrorMsg(null),\n        error: true,\n        content: errorMsg,\n        attached: true,\n        header: \"Oops!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImageDropDiv, {\n        inputRef: inputRef,\n        highlighted: highlighted,\n        setHighlighted: setHighlighted,\n        handleChange: handleChange,\n        mediaPreview: mediaPreview,\n        setMediaPreview: setMediaPreview,\n        setMedia: setMedia,\n        profilePicUrl: profile.profilePicUrl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CommonInputs, {\n        user: profile,\n        handleChange: handleChange,\n        showSocialLinks: showSocialLinks,\n        setShowSocialLinks: setShowSocialLinks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        hidden: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"blue\",\n        icon: \"pencil alternate\",\n        disabled: profile.bio === \"\" || loading,\n        content: \"Submit\",\n        type: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\nexport default UpdateProfile;","map":{"version":3,"sources":["C:/Users/vsvij/Desktop/MERN Projects/social-media/components/Profile/UpdateProfile.js"],"names":["React","useState","useRef","Form","Button","Message","Divider","ImageDropDiv","CommonInputs","uploadPic","profileUpdate","UpdateProfile","Profile","profile","setProfile","profilePicUrl","user","bio","facebook","social","youtube","instagram","twitter","errorMsg","setErrorMsg","loading","setLoading","showSocialLinks","setShowSocialLinks","highlighted","setHighlighted","inputRef","media","setMedia","mediaPreview","setMediaPreview","handleChange","e","name","value","files","target","URL","createObjectURL","prev","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport { Form, Button, Message, Divider } from \"semantic-ui-react\";\r\nimport ImageDropDiv from \"../Common/ImageDropDiv\";\r\nimport CommonInputs from \"../Common/CommonInputs\";\r\nimport uploadPic from \"../../utils/uploadPicToCloudinary\";\r\nimport { profileUpdate } from \"../../utils/profileActions\";\r\n\r\nfunction UpdateProfile({ Profile }) {\r\n  const [profile, setProfile] = useState({\r\n    profilePicUrl: Profile.user.profilePicUrl,\r\n    bio: Profile.bio || \"\",\r\n    facebook: (Profile.social && Profile.social.facebook) || \"\",\r\n    youtube: (Profile.social && Profile.social.youtube) || \"\",\r\n    instagram: (Profile.social && Profile.social.instagram) || \"\",\r\n    twitter: (Profile.social && Profile.social.twitter) || \"\"\r\n  });\r\n\r\n  const [errorMsg, setErrorMsg] = useState(null);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [showSocialLinks, setShowSocialLinks] = useState(false);\r\n\r\n  const [highlighted, setHighlighted] = useState(false);\r\n  const inputRef = useRef();\r\n  const [media, setMedia] = useState(null);\r\n  const [mediaPreview, setMediaPreview] = useState(null);\r\n\r\n  const handleChange = e => {\r\n    const { name, value, files } = e.target;\r\n\r\n    if (name === \"media\") {\r\n      setMedia(files[0]);\r\n      setMediaPreview(URL.createObjectURL(files[0]));\r\n    }\r\n    setProfile(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Form\r\n        error={errorMsg !== null}\r\n        loading={loading}\r\n        onSubmit={async e => {\r\n          e.preventDefault();\r\n          setLoading(true);\r\n\r\n          let profilePicUrl;\r\n\r\n          if (media !== null) {\r\n            profilePicUrl = await uploadPic(media);\r\n          }\r\n\r\n          if (media !== null && !profilePicUrl) {\r\n            setLoading(false);\r\n            return setErrorMsg(\"Error Uploading Image\");\r\n          }\r\n\r\n          await profileUpdate(profile, setLoading, setErrorMsg, profilePicUrl);\r\n        }}\r\n      >\r\n        <Message\r\n          onDismiss={() => setErrorMsg(null)}\r\n          error\r\n          content={errorMsg}\r\n          attached\r\n          header=\"Oops!\"\r\n        />\r\n\r\n        <ImageDropDiv\r\n          inputRef={inputRef}\r\n          highlighted={highlighted}\r\n          setHighlighted={setHighlighted}\r\n          handleChange={handleChange}\r\n          mediaPreview={mediaPreview}\r\n          setMediaPreview={setMediaPreview}\r\n          setMedia={setMedia}\r\n          profilePicUrl={profile.profilePicUrl}\r\n        />\r\n\r\n        <CommonInputs\r\n          user={profile}\r\n          handleChange={handleChange}\r\n          showSocialLinks={showSocialLinks}\r\n          setShowSocialLinks={setShowSocialLinks}\r\n        />\r\n\r\n        <Divider hidden />\r\n\r\n        <Button\r\n          color=\"blue\"\r\n          icon=\"pencil alternate\"\r\n          disabled={profile.bio === \"\" || loading}\r\n          content=\"Submit\"\r\n          type=\"submit\"\r\n        />\r\n      </Form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UpdateProfile;\r\n"]},"metadata":{},"sourceType":"module"}