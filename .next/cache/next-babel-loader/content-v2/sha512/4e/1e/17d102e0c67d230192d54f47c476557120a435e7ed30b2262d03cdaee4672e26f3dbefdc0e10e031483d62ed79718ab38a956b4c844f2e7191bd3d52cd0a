{"ast":null,"code":"import axios from \"axios\";\nimport baseUrl from \"./baseUrl\";\nimport catchErrors from \"./catchErrors\";\nimport Router from \"next/router\";\nimport cookie from \"js-cookie\";\nexport const registerUser = async (user, profilePicUrl, setError, setLoading) => {\n  try {\n    const res = await axios.post(`${baseUrl}/api/signup`, {\n      user,\n      profilePicUrl\n    });\n    setToken(res.data);\n  } catch (error) {\n    const errorMsg = catchErrors(error);\n    setError(errorMsg);\n  }\n\n  setLoading(false);\n};\nexport const loginUser = async (user, setError, setLoading) => {\n  setLoading(true);\n\n  try {\n    const res = await axios.post(`${baseUrl}/api/auth`, {\n      user\n    });\n    setToken(res.data);\n  } catch (error) {\n    const errorMsg = catchErrors(error);\n    setError(errorMsg);\n  }\n\n  setLoading(false);\n};\n\nconst setToken = token => {\n  cookie.set(\"token\", token);\n  Router.push(\"/\");\n};","map":{"version":3,"sources":["C:/Users/vsvij/Desktop/MERN Projects/social-media/utils/authUser.js"],"names":["axios","baseUrl","catchErrors","Router","cookie","registerUser","user","profilePicUrl","setError","setLoading","res","post","setToken","data","error","errorMsg","loginUser","token","set","push"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,OAAO,MAAMC,YAAY,GAAG,OAAOC,IAAP,EAAaC,aAAb,EAA4BC,QAA5B,EAAsCC,UAAtC,KAAqD;AAC/E,MAAI;AACF,UAAMC,GAAG,GAAG,MAAMV,KAAK,CAACW,IAAN,CAAY,GAAEV,OAAQ,aAAtB,EAAoC;AAAEK,MAAAA,IAAF;AAAQC,MAAAA;AAAR,KAApC,CAAlB;AAEAK,IAAAA,QAAQ,CAACF,GAAG,CAACG,IAAL,CAAR;AACD,GAJD,CAIE,OAAOC,KAAP,EAAc;AACd,UAAMC,QAAQ,GAAGb,WAAW,CAACY,KAAD,CAA5B;AACAN,IAAAA,QAAQ,CAACO,QAAD,CAAR;AACD;;AACDN,EAAAA,UAAU,CAAC,KAAD,CAAV;AACD,CAVM;AAYP,OAAO,MAAMO,SAAS,GAAG,OAAOV,IAAP,EAAaE,QAAb,EAAuBC,UAAvB,KAAsC;AAC7DA,EAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,MAAI;AACF,UAAMC,GAAG,GAAG,MAAMV,KAAK,CAACW,IAAN,CAAY,GAAEV,OAAQ,WAAtB,EAAkC;AAAEK,MAAAA;AAAF,KAAlC,CAAlB;AAEAM,IAAAA,QAAQ,CAACF,GAAG,CAACG,IAAL,CAAR;AACD,GAJD,CAIE,OAAOC,KAAP,EAAc;AACd,UAAMC,QAAQ,GAAGb,WAAW,CAACY,KAAD,CAA5B;AACAN,IAAAA,QAAQ,CAACO,QAAD,CAAR;AACD;;AACDN,EAAAA,UAAU,CAAC,KAAD,CAAV;AACD,CAXM;;AAaP,MAAMG,QAAQ,GAAGK,KAAK,IAAI;AACxBb,EAAAA,MAAM,CAACc,GAAP,CAAW,OAAX,EAAoBD,KAApB;AACAd,EAAAA,MAAM,CAACgB,IAAP,CAAY,GAAZ;AACD,CAHD","sourcesContent":["import axios from \"axios\";\r\nimport baseUrl from \"./baseUrl\";\r\nimport catchErrors from \"./catchErrors\";\r\nimport Router from \"next/router\";\r\nimport cookie from \"js-cookie\";\r\n\r\nexport const registerUser = async (user, profilePicUrl, setError, setLoading) => {\r\n  try {\r\n    const res = await axios.post(`${baseUrl}/api/signup`, { user, profilePicUrl });\r\n\r\n    setToken(res.data);\r\n  } catch (error) {\r\n    const errorMsg = catchErrors(error);\r\n    setError(errorMsg);\r\n  }\r\n  setLoading(false);\r\n};\r\n\r\nexport const loginUser = async (user, setError, setLoading) => {\r\n  setLoading(true);\r\n  try {\r\n    const res = await axios.post(`${baseUrl}/api/auth`, { user });\r\n\r\n    setToken(res.data);\r\n  } catch (error) {\r\n    const errorMsg = catchErrors(error);\r\n    setError(errorMsg);\r\n  }\r\n  setLoading(false);\r\n};\r\n\r\nconst setToken = token => {\r\n  cookie.set(\"token\", token);\r\n  Router.push(\"/\");\r\n};\r\n"]},"metadata":{},"sourceType":"module"}