{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\vsvij\\\\Desktop\\\\MERN Projects\\\\social-media\\\\components\\\\Post\\\\LikesList.js\";\nimport React, { useState } from \"react\";\nimport { List, Popup, Image } from \"semantic-ui-react\";\nimport axios from \"axios\";\nimport baseUrl from \"../../utils/baseUrl\";\nimport catchErrors from \"../../utils/catchErrors\";\nimport cookie from \"js-cookie\";\nimport Router from \"next/router\";\nimport { LikesPlaceHolder } from \"../Layout/PlaceHolderGroup\";\n\nfunction LikesList({\n  postId,\n  trigger\n}) {\n  const {\n    0: likesList,\n    1: setLikesList\n  } = useState([]);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n\n  const getLikesList = async () => {\n    setLoading(true);\n\n    try {\n      const res = await axios.get(`${baseUrl}/api/posts/like/${postId}`, {\n        headers: {\n          Authorization: cookie.get(\"token\")\n        }\n      });\n      setLikesList(res.data);\n    } catch (error) {\n      alert(catchErrors(error));\n    }\n\n    setLoading(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Popup, {\n    on: \"click\",\n    onClose: () => setLikesList([]),\n    onOpen: getLikesList,\n    popperDependencies: [likesList],\n    trigger: trigger,\n    wide: true,\n    children: loading ? /*#__PURE__*/_jsxDEV(LikesPlaceHolder, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: likesList.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          overflow: \"auto\",\n          maxHeight: \"15rem\",\n          height: \"15rem\",\n          minWidth: \"210px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(List, {\n          selection: true,\n          size: \"large\",\n          children: likesList.map(like => /*#__PURE__*/_jsxDEV(List.Item, {\n            children: [/*#__PURE__*/_jsxDEV(Image, {\n              avatar: true,\n              src: like.user.profilePicUrl\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(List.Content, {\n              children: /*#__PURE__*/_jsxDEV(List.Header, {\n                onClick: () => Router.push(`/${like.user.username}`),\n                as: \"a\",\n                content: like.user.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 21\n            }, this)]\n          }, like._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n\nexport default LikesList;","map":{"version":3,"sources":["C:/Users/vsvij/Desktop/MERN Projects/social-media/components/Post/LikesList.js"],"names":["React","useState","List","Popup","Image","axios","baseUrl","catchErrors","cookie","Router","LikesPlaceHolder","LikesList","postId","trigger","likesList","setLikesList","loading","setLoading","getLikesList","res","get","headers","Authorization","data","error","alert","length","overflow","maxHeight","height","minWidth","map","like","user","profilePicUrl","push","username","name","_id"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { List, Popup, Image } from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\nimport baseUrl from \"../../utils/baseUrl\";\r\nimport catchErrors from \"../../utils/catchErrors\";\r\nimport cookie from \"js-cookie\";\r\nimport Router from \"next/router\";\r\nimport { LikesPlaceHolder } from \"../Layout/PlaceHolderGroup\";\r\n\r\nfunction LikesList({ postId, trigger }) {\r\n  const [likesList, setLikesList] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const getLikesList = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await axios.get(`${baseUrl}/api/posts/like/${postId}`, {\r\n        headers: { Authorization: cookie.get(\"token\") },\r\n      });\r\n      setLikesList(res.data);\r\n    } catch (error) {\r\n      alert(catchErrors(error));\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <Popup\r\n      on=\"click\"\r\n      onClose={() => setLikesList([])}\r\n      onOpen={getLikesList}\r\n      popperDependencies={[likesList]}\r\n      trigger={trigger}\r\n      wide\r\n    >\r\n      {loading ? (\r\n        <LikesPlaceHolder />\r\n      ) : (\r\n        <>\r\n          {likesList.length > 0 && (\r\n            <div\r\n              style={{\r\n                overflow: \"auto\",\r\n                maxHeight: \"15rem\",\r\n                height: \"15rem\",\r\n                minWidth: \"210px\",\r\n              }}\r\n            >\r\n              <List selection size=\"large\">\r\n                {likesList.map((like) => (\r\n                  <List.Item key={like._id}>\r\n                    <Image avatar src={like.user.profilePicUrl} />\r\n\r\n                    <List.Content>\r\n                      <List.Header\r\n                        onClick={() => Router.push(`/${like.user.username}`)}\r\n                        as=\"a\"\r\n                        content={like.user.name}\r\n                      />\r\n                    </List.Content>\r\n                  </List.Item>\r\n                ))}\r\n              </List>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </Popup>\r\n  );\r\n}\r\n\r\nexport default LikesList;\r\n"]},"metadata":{},"sourceType":"module"}